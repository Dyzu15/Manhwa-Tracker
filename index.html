<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Track your favorite manhwa series with bookmarks, reading progress, and latest chapters.">
  <meta name="theme-color" content="#121212" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manhwa Tracker</title>

  <!-- Apple iOS Support -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="apple-touch-icon" sizes="192x192" href="/Manhwa-Tracker/icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="/Manhwa-Tracker/icons/icon-512.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/Manhwa-Tracker/icons/icon-180.png" />

 <!-- iOS Splash Screens (Fixed Paths) -->
<link rel="apple-touch-startup-image" href="splash/splash-640x1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-750x1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-1242x2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="splash/splash-1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="splash/splash-828x1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-1242x2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="splash/splash-1536x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-1668x2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-1668x2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-2048x2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="splash/splash-1290x2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="splash/splash-1179x2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)">


  <link rel="icon" type="image/png" href="./icons/icon-192.png" />
  <link rel="shortcut icon" href="icons/icon-192x192.png" />
  <link rel="manifest" href="./manifest.json" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css" />

  <style>
    html { scroll-behavior: smooth; }
  </style>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="background-overlay"></div>

  <!-- Header -->
  <header class="navbar">
    <div class="navbar-left">
      <img src="./icons/icon-192.png" alt="Logo" class="logo-small" />
      <span class="site-title">Manhwa Tracker</span>
    </div>
    <div class="navbar-center">
      <button class="hamburger-btn" id="hamburgerBtn">‚ò∞</button>
      <nav class="navbar-links" id="navMenu">
        <a href="#home">Home</a>
        <a href="#my-library">My List</a>
        <a href="#popular">Popular</a>
        <a href="#new">New Releases</a>
        <a href="#dashboard">Dashboard</a>
      </nav>
    </div>
    <div class="navbar-right">
      <input type="text" id="searchInput" placeholder="Search series..." />
      <button class="login-btn" id="loginBtn">Login</button>
      <button class="hidden" id="logoutBtn">Logout</button>
      <button id="profileBtn" class="avatar-button">
        <img id="navAvatar" src="./icons/icon-192.png" alt="Profile" />
      </button>
      <span id="userDisplay" class="user-display hidden"></span>
    </div>
  </header>

  <!-- Genre Filter -->
  <div class="filter-section">
    <label for="genreFilter">Filter by Genre:</label>
    <select id="genreFilter">
      <option value="all">All Genres</option>
      <option value="action">Action</option>
      <option value="fantasy">Fantasy</option>
      <option value="drama">Drama</option>
      <option value="comedy">Comedy</option>
    </select>
  </div>

  <!-- Main Content -->
  <main>
    <section id="home" class="active-section">
      <h2>Currently Reading</h2>
      <div class="card-list" id="currently-reading"></div>
    </section>

    <section id="dashboard">
      <h2>üìä My Dashboard</h2>
      <div class="dashboard-cards">
        <div id="recently-read" class="dashboard-box">
          <h3>üìñ Recently Read</h3>
          <ul></ul>
        </div>
        <div id="top-rated" class="dashboard-box">
          <h3>‚≠ê Top Rated</h3>
          <ul></ul>
        </div>
        <div id="most-bookmarked" class="dashboard-box">
          <h3>üìå Most Bookmarked</h3>
          <ul></ul>
        </div>
      </div>
    </section>

    <section id="popular">
      <h2>Popular Series</h2>
      <div class="card-list" id="popular-list"></div>
    </section>

    <section id="new">
      <h2>New Releases</h2>
      <div class="card-list" id="new-releases"></div>
    </section>

    <section id="my-library">
      <h2>‚≠ê My Library</h2>
      <div class="card-list" id="my-library"></div>
    </section>

    <section><h2>‚úÖ Completed</h2><div class="card-list" id="status-completed"></div></section>
    <section><h2>‚è∏Ô∏è On Hold</h2><div class="card-list" id="status-onhold"></div></section>
    <section><h2>‚ùå Dropped</h2><div class="card-list" id="status-dropped"></div></section>
    <section><h2>üìù Wishlist</h2><div class="card-list" id="status-wishlist"></div></section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Manhwa Tracker</p>
    <!-- Admin Panel -->
<section id="admin-panel" class="hidden">
  <h2>Admin Panel ‚Äì Add New Manhwa</h2>
  <form id="addManhwaForm">
    <input type="text" id="titleInput" placeholder="Title" required />
    <input type="text" id="genreInput" placeholder="Genre (e.g. action)" required />
    <input type="text" id="coverInput" placeholder="Cover Image URL" required />
    <textarea id="descriptionInput" placeholder="Description"></textarea>
    <input type="number" id="chapterInput" placeholder="Starting Chapter" required />
    <button type="submit">Add Manhwa</button>
  </form>
  <p id="adminStatusMsg"></p>
</section>
  </footer>

<!-- Popup Modal -->
<div id="popupOverlay" class="popup-overlay hidden">
  <div class="popup">
    <span class="close-btn" onclick="closePopup()">√ó</span>
    <img id="popupCover" src="" alt="Cover" />
    <h3 id="popupTitle">Title</h3>
    <p id="popupChapter">Chapter</p>

    <label for="chapterInput">Update Chapter:</label>
    <input type="number" id="chapterInput" placeholder="Enter chapter" />

    <label for="ratingInput">Your Rating (1‚Äì10):</label>
    <select id="ratingInput">
      <option value="">‚≠ê Rate</option>
      <option value="1">1/10</option>
      <option value="2">2/10</option>
      <option value="3">3/10</option>
      <option value="4">4/10</option>
      <option value="5">5/10</option>
      <option value="6">6/10</option>
      <option value="7">7/10</option>
      <option value="8">8/10</option>
      <option value="9">9/10</option>
      <option value="10">10/10</option>
    </select>

    
    <button onclick="saveChapterProgress()">Save Progress</button>
    <p id="popupDescription">This is a placeholder synopsis.</p>
  </div>
</div>


  <!-- Firebase Login Modal -->
  <div id="loginModal" class="popup-overlay hidden">
    <div class="popup">
      <span class="close-btn" onclick="closeLogin()">√ó</span>
      <h3>Login with Google</h3>
      <button type="button" onclick="loginWithGoogle()">Sign in with Google</button>
    </div>
  </div>

  <!-- Profile Modal -->
  <div id="profileModal" class="popup-overlay hidden">
    <div class="popup">
      <span class="close-btn" onclick="closeProfile()">√ó</span>
      <h3>User Profile</h3>
      <img id="profilePic" src="./icons/icon-192.png" alt="Profile Picture" width="100" style="border-radius: 50%;" />
      <p id="profileName">Guest</p>
      <ul>
        <li>Total in Library: <span id="totalLibrary">0</span></li>
        <li>Completed: <span id="totalCompleted">0</span></li>
        <li>Dropped: <span id="totalDropped">0</span></li>
        <li><button onclick="openEditProfile()">Edit Profile</button></li>
      </ul>
    </div>
  </div>

  <!-- Edit Profile Modal -->
  <div id="editProfileModal" class="popup-overlay hidden">
    <div class="popup">
      <span class="close-btn" onclick="closeEditProfile()">√ó</span>
      <h3>Edit Profile</h3>
      <label for="displayNameInput">Display Name:</label>
      <input type="text" id="displayNameInput" placeholder="Enter your name" />
      <label>Choose Avatar:</label>
      <div class="avatar-options">
        <img src="avatars/avatar1.png" class="avatar-option" onclick="selectAvatar(this)" />
        <img src="avatars/avatar2.png" class="avatar-option" onclick="selectAvatar(this)" />
        <img src="avatars/avatar3.png" class="avatar-option" onclick="selectAvatar(this)" />
      </div>
      <button onclick="saveProfileChanges()">Save Changes</button>
    </div>
  </div>

  <!-- Firebase and App Script -->
  <script src="./firebase.js"></script>
  <script src="./firebase-auth.js"></script>
  <script src="./script.js"></script>
  <script>
    document.querySelectorAll('#navMenu a').forEach(link => {
      link.addEventListener('click', () => {
        document.getElementById('navMenu').classList.remove('open');
      });
    });
  </script>
</body>
</html>
