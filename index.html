<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Track your favorite manhwa series with bookmarks, reading progress, and latest chapters.">
  <meta name="theme-color" content="#121212" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manhwa Tracker</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" type="image/png" href="./icons/icon-192.png" />
  <link rel="manifest" href="./manifest.json" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }

    /* 📊 Dashboard styling */
    .dashboard-stats {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .stat-box {
      background-color: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      width: 150px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .stat-box h3 {
      margin-bottom: 8px;
      color: #f0a500;
    }
    .stat-box p {
      font-size: 24px;
      font-weight: bold;
    }
  </style>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="background-overlay"></div>

  <!-- Header -->
  <header class="navbar">
    <div class="navbar-left">
      <img src="./icons/icon-192.png" alt="Logo" class="logo-small" />
      <span class="site-title">Manhwa Tracker</span>
    </div>
    <div class="navbar-center">
      <button class="hamburger-btn" id="hamburgerBtn">☰</button>
      <nav class="navbar-links" id="navMenu">
        <a href="#home">Home</a>
        <a href="#my-library">My List</a>
        <a href="#popular">Popular</a>
        <a href="#new">New Releases</a>
        <a href="#dashboard">Dashboard</a> <!-- ✅ New Link -->
      </nav>
    </div>
    <div class="navbar-right">
      <input type="text" id="searchInput" placeholder="Search series..." />
      <button class="login-btn" id="loginBtn">Login</button>
      <button class="hidden" id="logoutBtn">Logout</button>
      <button id="profileBtn" class="avatar-button">
        <img id="navAvatar" src="./icons/icon-192.png" alt="Profile" />
      </button>
      <span id="userDisplay" class="user-display hidden"></span>
    </div>
  </header>

  <!-- Genre Filter -->
  <div class="filter-section">
    <label for="genreFilter">Filter by Genre:</label>
    <select id="genreFilter">
      <option value="all">All Genres</option>
      <option value="action">Action</option>
      <option value="fantasy">Fantasy</option>
      <option value="drama">Drama</option>
      <option value="comedy">Comedy</option>
    </select>
  </div>

  <!-- Main Content -->
  <main>
    <section id="home" class="active-section">
      <h2>Currently Reading</h2>
      <div class="card-list" id="currently-reading"></div>
    </section>

    <section id="popular">
      <h2>Popular Series</h2>
      <div class="card-list" id="popular-list"></div>
    </section>

    <section id="new">
      <h2>New Releases</h2>
      <div class="card-list" id="new-releases"></div>
    </section>

    <section id="my-library">
      <h2>⭐ My Library</h2>
      <div class="card-list" id="my-library"></div>
    </section>

    <section>
      <h2>✅ Completed</h2>
      <div class="card-list" id="status-completed"></div>
    </section>

    <section>
      <h2>⏸️ On Hold</h2>
      <div class="card-list" id="status-onhold"></div>
    </section>

    <section>
      <h2>❌ Dropped</h2>
      <div class="card-list" id="status-dropped"></div>
    </section>

    <section>
      <h2>📝 Wishlist</h2>
      <div class="card-list" id="status-wishlist"></div>
    </section>

    <!-- ✅ New Dashboard Section -->
    <section id="dashboard">
      <h2>📊 Dashboard</h2>
      <div class="dashboard-stats">
        <div class="stat-box">
          <h3>📖 Reading</h3>
          <p id="dashboard-reading">0</p>
        </div>
        <div class="stat-box">
          <h3>🏁 Completed</h3>
          <p id="dashboard-completed">0</p>
        </div>
        <div class="stat-box">
          <h3>💭 Wishlist</h3>
          <p id="dashboard-wishlist">0</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Manhwa Tracker</p>
  </footer>

  <!-- Scripts -->
  <script src="./firebase.js"></script>
  <script src="./firebase-auth.js"></script>
  <script src="./script.js"></script>
  <script>
    document.querySelectorAll('#navMenu a').forEach(link => {
      link.addEventListener('click', () => {
        document.getElementById('navMenu').classList.remove('open');
      });
    });
  </script>
</body>
</html>
